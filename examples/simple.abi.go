// Code generated by go-abi. DO NOT EDIT.

package examples

import (
	"io"
	"math/big"

	"github.com/ethereum/go-ethereum/common"
	"github.com/yihuang/go-abi"
)

// Function selectors
var (
	// send(address,uint256)
	SendSelector = [4]byte{0xd0, 0x67, 0x9d, 0x34}
)

// Big endian integer versions of function selectors
const (
	SendID = 3496451380
)

// EncodeAddress encodes address to ABI bytes
func EncodeAddress(value common.Address, buf []byte) (int, error) {
	copy(buf[12:32], value[:])
	return 32, nil
}

// EncodeUint256 encodes uint256 to ABI bytes
func EncodeUint256(value *big.Int, buf []byte) (int, error) {
	if err := abi.EncodeBigInt(value, buf[:32], false); err != nil {
		return 0, err
	}
	return 32, nil
}

// DecodeAddress decodes address from ABI bytes
func DecodeAddress(data []byte) (common.Address, int, error) {
	var result common.Address
	copy(result[:], data[12:32])
	return result, 32, nil
}

// DecodeUint256 decodes uint256 from ABI bytes
func DecodeUint256(data []byte) (*big.Int, int, error) {
	result, err := abi.DecodeBigInt(data[:32], false)
	if err != nil {
		return nil, 0, err
	}
	return result, 32, nil
}

const SendCallStaticSize = 64

// SendCall represents an ABI tuple
type SendCall struct {
	To     common.Address
	Amount *big.Int
}

// EncodedSize returns the total encoded size of SendCall
func (t SendCall) EncodedSize() int {
	dynamicSize := 0

	return SendCallStaticSize + dynamicSize
}

// EncodeTo encodes SendCall to ABI bytes in the provided buffer
func (value SendCall) EncodeTo(buf []byte) (int, error) {
	// Encode tuple fields
	dynamicOffset := SendCallStaticSize // Start dynamic data after static section
	// Field To: address
	if _, err := EncodeAddress(value.To, buf[0:]); err != nil {
		return 0, err
	}

	// Field Amount: uint256
	if _, err := EncodeUint256(value.Amount, buf[32:]); err != nil {
		return 0, err
	}

	return dynamicOffset, nil
}

// Encode encodes SendCall to ABI bytes
func (value SendCall) Encode() ([]byte, error) {
	buf := make([]byte, value.EncodedSize())
	if _, err := value.EncodeTo(buf); err != nil {
		return nil, err
	}
	return buf, nil
}

// Decode decodes SendCall from ABI bytes in the provided buffer
func (t *SendCall) Decode(data []byte) (int, error) {
	if len(data) < 64 {
		return 0, io.ErrUnexpectedEOF
	}
	var (
		err error
	)
	dynamicOffset := 64
	// Decode static field To: address
	t.To, _, err = DecodeAddress(data[0:])
	if err != nil {
		return 0, err
	}
	// Decode static field Amount: uint256
	t.Amount, _, err = DecodeUint256(data[32:])
	if err != nil {
		return 0, err
	}
	return dynamicOffset, nil
}

// EncodeWithSelector encodes send arguments to ABI bytes including function selector
func (t SendCall) EncodeWithSelector() ([]byte, error) {
	result := make([]byte, 4+t.EncodedSize())
	copy(result[:4], SendSelector[:])
	if _, err := t.EncodeTo(result[4:]); err != nil {
		return nil, err
	}
	return result, nil
}

// SendReturn represents the input arguments for send function
type SendReturn struct {
	abi.EmptyTuple
}
