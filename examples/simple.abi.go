// Code generated by go-abi. DO NOT EDIT.

package examples

import (
	"fmt"
	"github.com/ethereum/go-ethereum/common"
	"github.com/yihuang/go-abi"
	"math/big"
)

const SendArgsStaticSize = 64

// SendArgs represents an ABI tuple
type SendArgs struct {
	To     common.Address
	Amount *big.Int
}

// EncodedSize returns the total encoded size of SendArgs
func (t SendArgs) EncodedSize() int {
	dynamicSize := 0

	return SendArgsStaticSize + dynamicSize
}

// EncodeTo encodes SendArgs to ABI bytes in the provided buffer
// it panics if the buffer is not large enough
func (t SendArgs) EncodeTo(buf []byte) (int, error) {
	dynamicOffset := SendArgsStaticSize // Start dynamic data after static section

	// To (static)
	copy(buf[0+12:0+32], t.To[:])
	// Amount (static)

	if err := abi.EncodeBigInt(t.Amount, buf[32:64], false); err != nil {
		return 0, err
	}

	return dynamicOffset, nil
}

// Encode encodes SendArgs to ABI bytes
func (t SendArgs) Encode() ([]byte, error) {
	buf := make([]byte, t.EncodedSize())
	if _, err := t.EncodeTo(buf); err != nil {
		return nil, err
	}
	return buf, nil
}

// DecodeFrom decodes SendArgs from ABI bytes in the provided buffer
func (t *SendArgs) DecodeFrom(data0 []byte) error {
	if len(data0) < SendArgsStaticSize {
		return fmt.Errorf("insufficient data for SendArgs")
	}

	// t.To (static)
	copy(t.To[:], data0[0+12:0+32])
	// t.Amount (static)
	t.Amount = new(big.Int).SetBytes(data0[32:64])

	return nil
}

// Decode decodes SendArgs from ABI bytes
func (t *SendArgs) Decode(data []byte) error {
	return t.DecodeFrom(data)
}

// EncodeWithSelector encodes send arguments to ABI bytes including function selector
func (t SendArgs) EncodeWithSelector() ([]byte, error) {
	result := make([]byte, 4+t.EncodedSize())
	copy(result[:4], SendArgsSelector[:])
	if _, err := t.EncodeTo(result[4:]); err != nil {
		return nil, err
	}
	return result, nil
}

// SendArgsSelector is the function selector for send(address,uint256)
var SendArgsSelector = [4]byte{0xd0, 0x67, 0x9d, 0x34}

// Selector returns the function selector for send
func (SendArgs) Selector() [4]byte {
	return SendArgsSelector
}
